---
import { Image } from "@astrojs/image/components";
import Button from "./button.astro";

const { post } = Astro.props;

const { title, description, image, category, slug } = post.fields;

const tagColor = (category: string) => {
  let color = "";
  if (category === "Programa") {
    color = "bg-yellow";
    return color;
  } else if (category === "Publicación") {
    color = "bg-pink";
    return color;
  } else {
    color = "bg-blue";
    return color;
  }
};
---

<article
  class="flex flex-col basis-60 flex-grow shadow-lg rounded-2xl overflow-hidden"
>
  <Image
    src={image.fields.file.url}
    alt={image.description}
    width={1920}
    aspectRatio="16:9"
    format="webp"
    fit="cover"
  />
  <div class="flex flex-col items-start gap-2 p-8">
    <small
      class:list={[
        "font-medium",
        "text-white",
        "text-[.5rem]",
        "px-2",
        "py-1",
        "rounded-full",
        tagColor(category),
      ]}>{category}</small
    >
    <h3 class="text-lg font-black uppercase">{title}</h3>
    <p class="pb-6">{description}</p>
    <Button color="bg-blue" text="Leer Más" href="/blog/{slug}" />
  </div>
</article>
